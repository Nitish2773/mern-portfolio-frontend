"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[29],{29:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var l=t(555),s=t(43),n=t(595),o=t(443),i=t(47),r=t(722),d=t(546),c=t(446),m=t(579);function u(e){let{children:a,onClose:t,isOpen:l=!0}=e;return(0,s.useEffect)(()=>{if(!l)return;const e=e=>{"Escape"===e.key&&(null===t||void 0===t||t())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,t]),(0,m.jsx)(d.N,{children:l&&(0,m.jsx)(c.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},role:"dialog","aria-modal":"true",onClick:t,children:(0,m.jsxs)(c.P.div,{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[(0,m.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-gray-500 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white text-xl font-bold transition-colors","aria-label":"Close modal",children:"\u2715"}),(0,m.jsx)("div",{className:"flex-1 overflow-auto p-6",children:a})]})})})}const x="https://mern-portfolio-backend-i3sz.onrender.com";function p(e){let{endpoint:a,readOnly:t=!1,single:l=!1,headers:n={},FormComponent:o}=e;const[i,d]=(0,s.useState)([]),[c,p]=(0,s.useState)(null),[h,f]=(0,s.useState)(!0),[b,y]=(0,s.useState)({text:"",type:""}),v=(0,s.useRef)(null);(0,s.useEffect)(()=>()=>clearTimeout(v.current),[]);const j=function(e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;y({text:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),clearTimeout(v.current),v.current=setTimeout(()=>y({text:"",type:""}),a)},N=(0,s.useCallback)(async()=>{f(!0);try{const{data:e}=await r.A.get("".concat(x).concat(a),{headers:n});d(l?[e||{}]:e||[])}catch(e){console.error(e),d([]),j("Failed to fetch data","error")}finally{f(!1)}},[a,n,l]);(0,s.useEffect)(()=>{N()},[N]);return h?(0,m.jsx)("p",{className:"text-gray-500",children:"Loading..."}):(0,m.jsxs)("div",{className:"space-y-4",children:[b.text&&(0,m.jsx)("div",{className:"p-3 rounded-xl font-medium ".concat("success"===b.type?"bg-green-500":"bg-red-500"," text-white"),children:b.text}),!l&&!t&&(0,m.jsx)("button",{onClick:()=>p({}),className:"mb-4 px-6 py-2 rounded-xl font-semibold bg-indigo-600 text-white hover:bg-indigo-700 transition shadow",children:"+ Add New"}),(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,m.jsxs)("div",{className:"p-5 bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-2xl transition transform hover:-translate-y-1 flex flex-col justify-between max-h-96 overflow-hidden",children:[(0,m.jsx)(g,{item:e}),!t&&!l&&(0,m.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,m.jsx)("button",{onClick:()=>p(e),className:"px-4 py-1 rounded-lg bg-yellow-400 text-white hover:bg-yellow-500 transition shadow",children:"Edit"}),(0,m.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this?"))try{await r.A.delete("".concat(x).concat(a,"/").concat(e),{headers:n}),N(),j("Deleted successfully!","success")}catch(t){console.error(t),j("Failed to delete data","error")}})(e._id),className:"px-4 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 transition shadow",children:"Delete"})]})]},e._id))}),c&&o&&(0,m.jsx)(u,{isOpen:!!c,onClose:()=>p(null),children:(0,m.jsx)("div",{className:"flex flex-col flex-1",children:(0,m.jsx)(o,{data:c,onSave:async e=>{try{l?await r.A.put("".concat(x).concat(a),e,{headers:n}):null!==c&&void 0!==c&&c._id?await r.A.put("".concat(x).concat(a,"/").concat(c._id),e,{headers:n}):await r.A.post("".concat(x).concat(a),e,{headers:n}),p(null),N(),j("Saved successfully!","success")}catch(t){console.error(t),j("Failed to save data","error")}},onCancel:()=>p(null)})})})]})}function g(e){let{item:a}=e;const t=(e,a)=>["hero_profileImage"].includes(e)&&a?(0,m.jsx)("img",{src:a,alt:"Profile",className:"h-20 w-20 object-cover rounded-full border"}):["hero_name","hero_caption","hero_description"].includes(e)&&a?(0,m.jsx)("span",{className:"font-medium",children:a}):Array.isArray(a)?(0,m.jsx)("div",{className:"flex flex-wrap gap-1 mt-1 max-h-20 overflow-y-auto",children:a.map((e,a)=>(0,m.jsx)("span",{className:"bg-indigo-100 dark:bg-indigo-700 text-indigo-800 dark:text-indigo-200 px-2 py-0.5 rounded-full text-xs truncate",title:e,children:e},a))}):e.toLowerCase().includes("proficiency")?(0,m.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded-full mt-1",children:(0,m.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(a,"%")}})}):(0,m.jsx)("span",{className:"text-gray-800 dark:text-gray-200 mt-1 truncate break-words max-h-20 overflow-hidden",title:"object"===typeof a?JSON.stringify(a):a,children:"object"===typeof a?JSON.stringify(a):a});return(0,m.jsx)("div",{className:"space-y-3 overflow-hidden flex-1",children:Object.entries(a).filter(e=>{let[a]=e;return!["_id","__v","createdAt","updatedAt"].includes(a)}).map(e=>{let[a,l]=e;return(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm truncate",children:a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),t(a,l)]},a)})})}const h={title:"",thumbnail:"",startDate:"",endDate:"",description:"",techStack:[],category:"MERN",liveUrl:"",githubUrl:"",caseStudyUrl:"",images:[],highlights:[],priority:0},f=["MERN","Data Engineer","Data Analytics","React","Python","Java","Artificial Intelligence","Machine Learning","AWS","SQL","IT Support Projects"];const b=["programming","webdev","database","frameworks","libraries","tools","others"],y={programming:"Programming",webdev:"Web Dev",database:"Database",frameworks:"Frameworks",libraries:"Libraries",tools:"Tools",others:"Others"};const v=[{key:"projects",label:"Projects",endpoint:"/api/projects",FormComponent:function(e){let{data:a,onSave:t,onCancel:n,mode:o="create"}=e;const[i,r]=(0,s.useState)((0,l.A)((0,l.A)({},h),a));(0,s.useEffect)(()=>{r((0,l.A)((0,l.A)({},h),a))},[a]);const d=e=>{const{name:a,value:t}=e.target;["techStack","images","highlights"].includes(a)?r((0,l.A)((0,l.A)({},i),{},{[a]:t.split(",").map(e=>e.trim())})):r("priority"===a?(0,l.A)((0,l.A)({},i),{},{[a]:""===t?0:Number(t)}):(0,l.A)((0,l.A)({},i),{},{[a]:t}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("style",{children:"\n          .project-form::-webkit-scrollbar { display: none; }\n          .project-form { -ms-overflow-style: none; scrollbar-width: none; }\n        "}),(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(i)},className:"project-form grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[80vh] overflow-y-auto p-2",children:[(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Title *"}),(0,m.jsx)("input",{type:"text",name:"title",value:i.title,onChange:d,required:!0,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Thumbnail URL"}),(0,m.jsx)("input",{type:"text",name:"thumbnail",value:i.thumbnail,onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Start Date"}),(0,m.jsx)("input",{type:"date",name:"startDate",value:i.startDate?i.startDate.slice(0,10):"",onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"End Date"}),(0,m.jsx)("input",{type:"date",name:"endDate",value:i.endDate?i.endDate.slice(0,10):"",onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col col-span-1 md:col-span-2",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Description *"}),(0,m.jsx)("textarea",{name:"description",value:i.description,onChange:d,required:!0,rows:3,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Tech Stack (comma separated)"}),(0,m.jsx)("input",{type:"text",name:"techStack",value:i.techStack.join(", "),onChange:d,placeholder:"React, Node.js, MongoDB",className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,m.jsx)("select",{name:"category",value:i.category,onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:f.map(e=>(0,m.jsx)("option",{value:e,children:e},e))})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Live URL"}),(0,m.jsx)("input",{type:"text",name:"liveUrl",value:i.liveUrl,onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"GitHub URL"}),(0,m.jsx)("input",{type:"text",name:"githubUrl",value:i.githubUrl,onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Case Study URL"}),(0,m.jsx)("input",{type:"text",name:"caseStudyUrl",value:i.caseStudyUrl,onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Images (comma separated)"}),(0,m.jsx)("input",{type:"text",name:"images",value:i.images.join(", "),onChange:d,placeholder:"https://example.com/img1.png, https://example.com/img2.png",className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Highlights (comma separated)"}),(0,m.jsx)("input",{type:"text",name:"highlights",value:i.highlights.join(", "),onChange:d,placeholder:"Optimized queries, Improved performance",className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,m.jsx)("input",{type:"number",name:"priority",value:i.priority,onChange:d,className:"border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,m.jsxs)("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-4 sticky bottom-0 bg-white dark:bg-gray-900 py-2",children:[(0,m.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition",children:"create"===o?"Add Project":"Save Changes"})]})]})]})}},{key:"skills",label:"Skills",endpoint:"/api/skills",FormComponent:function(e){let{data:a,onSave:t,onCancel:n,readOnly:o}=e;const[i,r]=(0,s.useState)((0,l.A)({name:"",category:"",proficiency:70,yearsExp:0,tags:[],logo:"",priority:0},a)),[d,c]=(0,s.useState)("");(0,s.useEffect)(()=>{r((0,l.A)({name:"",category:"",proficiency:70,yearsExp:0,tags:[],logo:"",priority:0},a))},[a]);const u=e=>{const{name:a,value:t}=e.target;r(e=>(0,l.A)((0,l.A)({},e),{},{[a]:t}))},x=(e,a)=>{const t=Number(e.target.value);r(e=>(0,l.A)((0,l.A)({},e),{},{[a]:t}))};return(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.name&&i.category?t(i):alert("Please fill in the Name and Category fields.")},className:"space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Skill Name ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsx)("input",{name:"name",value:i.name,onChange:u,placeholder:"e.g., React.js",className:"w-full border px-3 py-2 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",required:!0,readOnly:o})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Category ",(0,m.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,m.jsxs)("select",{name:"category",value:i.category,onChange:u,className:"w-full border px-3 py-2 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",required:!0,disabled:o,children:[(0,m.jsx)("option",{value:"",children:"Select Category"}),b.map(e=>(0,m.jsx)("option",{value:e,children:y[e]},e))]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Proficiency (",i.proficiency,"%)"]}),(0,m.jsx)("input",{type:"range",min:"1",max:"100",value:i.proficiency,onChange:e=>x(e,"proficiency"),className:"w-full",disabled:o})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Years of Experience"}),(0,m.jsx)("input",{type:"number",min:"0",value:i.yearsExp,onChange:e=>x(e,"yearsExp"),className:"w-full border px-3 py-2 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",readOnly:o})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Priority"}),(0,m.jsx)("input",{type:"number",min:"0",value:i.priority,onChange:e=>x(e,"priority"),className:"w-full border px-3 py-2 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",readOnly:o})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Logo URL"}),(0,m.jsx)("input",{type:"text",name:"logo",value:i.logo,onChange:u,placeholder:"https://...",className:"w-full border px-3 py-2 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",readOnly:o})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tags"}),(0,m.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:i.tags.map(e=>(0,m.jsxs)("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-700 text-indigo-800 dark:text-indigo-200 rounded-full flex items-center gap-1",children:[e,!o&&(0,m.jsx)("button",{type:"button",onClick:()=>(e=>{r(a=>(0,l.A)((0,l.A)({},a),{},{tags:a.tags.filter(a=>a!==e)}))})(e),className:"text-sm font-bold",children:"\xd7"})]},e))}),!o&&(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Add a tag",className:"flex-1 border px-3 py-2 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white"}),(0,m.jsx)("button",{type:"button",onClick:()=>{const e=d.trim();e&&!i.tags.includes(e)&&(r(a=>(0,l.A)((0,l.A)({},a),{},{tags:[...a.tags,e]})),c(""))},className:"px-3 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition",children:"Add"})]})]}),!o&&(0,m.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,m.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600 transition",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition",children:"Save"})]})]})}},{key:"education",label:"Education",endpoint:"/api/education",FormComponent:function(e){let{data:a,onSave:t,onCancel:n}=e;const o=(0,l.A)({logo:"",institution:"",program:"",startDate:"",endDate:"",skills:[],description:"",priority:0},a),[i,r]=(0,s.useState)(o);(0,s.useEffect)(()=>{r((0,l.A)({logo:"",institution:"",program:"",startDate:"",endDate:"",skills:[],description:"",priority:0},a))},[a]);const d=e=>{const{name:a,value:t}=e.target;if("skills"===a){const e=t.split(",").map(e=>e.trim()).filter(e=>e);r((0,l.A)((0,l.A)({},i),{},{skills:e}))}else r("priority"===a?(0,l.A)((0,l.A)({},i),{},{priority:""===t?0:Number(t)}):(0,l.A)((0,l.A)({},i),{},{[a]:t}))};return(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"function"===typeof t?t(i):console.warn("\u26a0\ufe0f onSave prop not provided to EducationForm")},className:"grid grid-cols-2 gap-4 max-h-[80vh] overflow-y-auto p-2",children:[(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Institution *"}),(0,m.jsx)("input",{type:"text",name:"institution",value:i.institution,onChange:d,required:!0,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Program *"}),(0,m.jsx)("input",{type:"text",name:"program",value:i.program,onChange:d,required:!0,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Start Date *"}),(0,m.jsx)("input",{type:"date",name:"startDate",value:i.startDate?i.startDate.slice(0,10):"",onChange:d,required:!0,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"End Date"}),(0,m.jsx)("input",{type:"date",name:"endDate",value:i.endDate?i.endDate.slice(0,10):"",onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Logo URL"}),(0,m.jsx)("input",{type:"text",name:"logo",value:i.logo,onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Skills (comma-separated)"}),(0,m.jsx)("input",{type:"text",name:"skills",value:i.skills.join(", "),onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col col-span-2",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,m.jsx)("textarea",{name:"description",value:i.description,onChange:d,className:"border px-3 py-2 rounded",rows:3})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,m.jsx)("input",{type:"number",name:"priority",value:i.priority,onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"col-span-2 flex justify-end gap-2 mt-4",children:[(0,m.jsx)("button",{type:"button",onClick:()=>{"function"===typeof n?n():console.warn("\u26a0\ufe0f onCancel prop not provided to EducationForm")},className:"px-4 py-2 border rounded",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sriBlue-600 text-white rounded",children:"Save"})]})]})}},{key:"experience",label:"Experience",endpoint:"/api/experience",FormComponent:function(e){let{data:a,onSave:t,onCancel:n}=e;const o=(0,l.A)({logo:"",company:"",role:"",location:"",startDate:"",endDate:"",responsibilities:[],skills:[],description:"",certificateUrl:"",priority:0},a),[i,r]=(0,s.useState)(o);(0,s.useEffect)(()=>{r((0,l.A)({logo:"",company:"",role:"",location:"",startDate:"",endDate:"",responsibilities:[],skills:[],description:"",certificateUrl:"",priority:0},a))},[a]);const d=e=>{const{name:a,value:t}=e.target;if(["responsibilities","skills"].includes(a)){const e=t.split(",").map(e=>e.trim()).filter(Boolean);r((0,l.A)((0,l.A)({},i),{},{[a]:e}))}else r("priority"===a?(0,l.A)((0,l.A)({},i),{},{priority:""===t?0:Number(t)}):(0,l.A)((0,l.A)({},i),{},{[a]:t}))};return(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"function"===typeof t?t(i):console.warn("\u26a0\ufe0f ExperienceForm submitted but no onSave handler provided")},className:"grid grid-cols-2 gap-4 max-h-[80vh] overflow-y-auto p-2",children:[(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Company *"}),(0,m.jsx)("input",{type:"text",name:"company",value:i.company,onChange:d,required:!0,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Role *"}),(0,m.jsx)("input",{type:"text",name:"role",value:i.role,onChange:d,required:!0,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Location"}),(0,m.jsx)("input",{type:"text",name:"location",value:i.location,onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Start Date *"}),(0,m.jsx)("input",{type:"date",name:"startDate",value:i.startDate?i.startDate.slice(0,10):"",onChange:d,required:!0,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"End Date"}),(0,m.jsx)("input",{type:"date",name:"endDate",value:i.endDate?i.endDate.slice(0,10):"",onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Logo URL"}),(0,m.jsx)("input",{type:"text",name:"logo",value:i.logo,onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Responsibilities (comma-separated)"}),(0,m.jsx)("input",{type:"text",name:"responsibilities",value:i.responsibilities.join(", "),onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Skills (comma-separated)"}),(0,m.jsx)("input",{type:"text",name:"skills",value:i.skills.join(", "),onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col col-span-2",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,m.jsx)("textarea",{name:"description",value:i.description,onChange:d,className:"border px-3 py-2 rounded",rows:3})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Certificate URL"}),(0,m.jsx)("input",{type:"text",name:"certificateUrl",value:i.certificateUrl,onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,m.jsx)("input",{type:"number",name:"priority",value:i.priority,onChange:d,className:"border px-3 py-2 rounded"})]}),(0,m.jsxs)("div",{className:"col-span-2 flex justify-end gap-2 mt-4",children:[(0,m.jsx)("button",{type:"button",onClick:()=>{"function"===typeof n?n():console.warn("\u26a0\ufe0f ExperienceForm cancel clicked but no onCancel handler provided")},className:"px-4 py-2 border rounded",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sriBlue-600 text-white rounded",children:"Save"})]})]})}},{key:"certifications",label:"Certifications",endpoint:"/api/certifications",FormComponent:function(e){let{data:a,onSave:t,onCancel:n,readOnly:o}=e;const i=(0,l.A)({provider:"",title:"",issueDate:"",expiryDate:"",credentialId:"",verifyUrl:"",image:"",tags:[],category:"Other",priority:0},a),[r,d]=(0,s.useState)(i);(0,s.useEffect)(()=>{d((0,l.A)((0,l.A)({},i),a))},[a]);const c=e=>{const{name:a,value:t}=e.target;if("tags"===a){const e=t.split(",").map(e=>e.trim()).filter(Boolean);d((0,l.A)((0,l.A)({},r),{},{tags:e}))}else d("priority"===a?(0,l.A)((0,l.A)({},r),{},{priority:""===t?0:Number(t)}):(0,l.A)((0,l.A)({},r),{},{[a]:t}))},u=(e,a)=>{var t;return"date"===a?r[e]?String(r[e]).slice(0,10):"":"tags"===e?r.tags.join(", "):null!==(t=r[e])&&void 0!==t?t:""};return(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"function"===typeof t?t(r):console.warn("\u26a0\ufe0f CertificationForm submitted but no onSave handler provided")},className:"grid grid-cols-2 gap-4 max-h-[80vh] overflow-y-auto p-2",children:[[{name:"provider",label:"Provider",type:"text",required:!0},{name:"title",label:"Title",type:"text",required:!0},{name:"issueDate",label:"Issue Date",type:"date",required:!0},{name:"expiryDate",label:"Expiry Date",type:"date"},{name:"credentialId",label:"Credential ID",type:"text"},{name:"verifyUrl",label:"Verification URL",type:"text"},{name:"image",label:"Badge Image URL",type:"text"},{name:"tags",label:"Tags (comma-separated)",type:"text"},{name:"priority",label:"Priority",type:"number"}].map(e=>{let{name:a,label:t,type:l,required:s}=e;return(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:t}),(0,m.jsx)("input",{type:l,name:a,value:u(a,l),onChange:c,required:s,readOnly:o,className:"border px-3 py-2 rounded ".concat(o?"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200")})]},a)}),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,m.jsx)("select",{name:"category",value:r.category,onChange:c,disabled:o,className:"border px-3 py-2 rounded ".concat(o?"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200"),children:["NxtWave","HackerRank","Google","Microsoft","Meta","Coursera Badges","AWS","MongoDB University","Oracle SQL","Other"].map(e=>(0,m.jsx)("option",{value:e,children:e},e))})]}),!o&&(0,m.jsxs)("div",{className:"col-span-2 flex justify-end gap-2 mt-4",children:[(0,m.jsx)("button",{type:"button",onClick:()=>{"function"===typeof n?n():console.warn("\u26a0\ufe0f CertificationForm cancel clicked but no onCancel handler provided")},className:"px-4 py-2 border rounded",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sriBlue-600 text-white rounded",children:"Save"})]})]})}},{key:"profile",label:"Profile",endpoint:"/api/profile",single:!0,FormComponent:function(e){let{data:a={},onSave:t,onCancel:n}=e;const o=e=>{var a,t,l,s,n,o,i,r,d,c,m,u,x,p,g,h;return{hero_name:(null===(a=e.hero)||void 0===a?void 0:a.name)||"",hero_caption:(null===(t=e.hero)||void 0===t?void 0:t.caption)||"",hero_description:(null===(l=e.hero)||void 0===l?void 0:l.description)||"",hero_profileImage:(null===(s=e.hero)||void 0===s?void 0:s.profileImage)||"",about_headline:(null===(n=e.about)||void 0===n?void 0:n.headline)||"",about_bio:(null===(o=e.about)||void 0===o?void 0:o.bio)||"",about_location:(null===(i=e.about)||void 0===i?void 0:i.location)||"",about_email:(null===(r=e.about)||void 0===r?void 0:r.email)||"",about_phone:(null===(d=e.about)||void 0===d?void 0:d.phone)||"",about_resumeUrl:(null===(c=e.about)||void 0===c?void 0:c.resumeUrl)||"",about_availability:(null===(m=e.about)||void 0===m?void 0:m.availability)||"Open to opportunities",social_github:(null===(u=e.social)||void 0===u?void 0:u.github)||"",social_linkedin:(null===(x=e.social)||void 0===x?void 0:x.linkedin)||"",social_twitter:(null===(p=e.social)||void 0===p?void 0:p.twitter)||"",social_telegram:(null===(g=e.social)||void 0===g?void 0:g.telegram)||"",social_facebook:(null===(h=e.social)||void 0===h?void 0:h.facebook)||""}},[i,r]=(0,s.useState)(o(a)),[d,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r(o(a))},[a]);const u=e=>{const{name:a,value:t}=e.target;r((0,l.A)((0,l.A)({},i),{},{[a]:t}))},x=e=>{let{label:a,name:t,required:l=!1,type:s="text"}=e;return(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsxs)("label",{className:"font-medium",children:[a," ",l&&"*"]}),(0,m.jsx)("input",{type:s,name:t,value:i[t]||"",onChange:u,required:l,className:"border px-3 py-2 rounded focus:outline-none focus:ring focus:ring-sriBlue-300"})]})},p=e=>{let{label:a,name:t,rows:l=3,required:s=!1}=e;return(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsxs)("label",{className:"font-medium",children:[a," ",s&&"*"]}),(0,m.jsx)("textarea",{name:t,value:i[t]||"",onChange:u,rows:l,required:s,className:"border px-3 py-2 rounded focus:outline-none focus:ring focus:ring-sriBlue-300"})]})};return(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a={hero:{name:i.hero_name,caption:i.hero_caption,description:i.hero_description,profileImage:i.hero_profileImage},about:{headline:i.about_headline,bio:i.about_bio,location:i.about_location,email:i.about_email,phone:i.about_phone,resumeUrl:i.about_resumeUrl,availability:i.about_availability},social:{github:i.social_github,linkedin:i.social_linkedin,twitter:i.social_twitter,telegram:i.social_telegram,facebook:i.social_facebook}};try{await t(a),c(!0),setTimeout(()=>c(!1),3e3)}catch(l){console.error(l)}},className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[80vh] overflow-y-auto p-4 relative",children:[d&&(0,m.jsx)("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow z-50 animate-slide-in",children:"Profile saved successfully!"}),(0,m.jsx)("h3",{className:"col-span-1 md:col-span-2 font-bold text-lg mt-2",children:"Hero Section"}),(0,m.jsx)(x,{label:"Name",name:"hero_name",required:!0}),(0,m.jsx)(x,{label:"Caption",name:"hero_caption",required:!0}),(0,m.jsx)(p,{label:"Description",name:"hero_description",required:!0}),(0,m.jsx)(x,{label:"Profile Image URL",name:"hero_profileImage",required:!0}),i.hero_profileImage&&(0,m.jsx)("div",{className:"col-span-1 md:col-span-2 flex justify-center mt-2",children:(0,m.jsx)("img",{src:(e=>{if(!e)return"";const a=e.match(/\/d\/([a-zA-Z0-9_-]+)\//);return a?"https://drive.google.com/uc?export=view&id=".concat(a[1]):e})(i.hero_profileImage),alt:"Profile Preview",className:"h-32 w-32 object-cover rounded-full border hover:scale-105 transition-transform"})}),(0,m.jsx)("h3",{className:"col-span-1 md:col-span-2 font-bold text-lg mt-6",children:"About Section"}),(0,m.jsx)(x,{label:"Headline",name:"about_headline"}),(0,m.jsx)(p,{label:"Bio",name:"about_bio",required:!0}),(0,m.jsx)(x,{label:"Location",name:"about_location"}),(0,m.jsx)(x,{label:"Email",name:"about_email",type:"email"}),(0,m.jsx)(x,{label:"Phone",name:"about_phone"}),(0,m.jsx)(x,{label:"Resume URL",name:"about_resumeUrl"}),(0,m.jsx)(x,{label:"Availability",name:"about_availability"}),(0,m.jsx)("h3",{className:"col-span-1 md:col-span-2 font-bold text-lg mt-6",children:"Social Links"}),["social_github","social_linkedin","social_twitter","social_telegram","social_facebook"].map(e=>(0,m.jsx)(x,{label:e.replace("social_","").charAt(0).toUpperCase()+e.slice(7),name:e},e)),(0,m.jsxs)("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-4",children:[(0,m.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sriBlue-600 text-white rounded hover:bg-sriBlue-700 transition",children:"Save"})]})]})}}];function j(){const{admin:e,logout:a,token:t}=(0,n.A)(),{setLoading:r}=(0,o.M)(),[d,c]=(0,s.useState)(0);(0,s.useEffect)(()=>{r(!0);const e=setTimeout(()=>r(!1),500);return()=>clearTimeout(e)},[d,r]);const u=v.map(e=>(0,l.A)((0,l.A)({},e),{},{headers:t?{Authorization:"Bearer ".concat(t)}:{}}));return(0,m.jsxs)("div",{className:"min-h-screen flex flex-col font-sans transition-colors duration-300 bg-gray-50 dark:bg-gray-900",children:[(0,m.jsxs)("header",{className:"bg-gradient-to-r from-indigo-500 via-sriBlue-500 to-teal-500 text-white p-6 flex justify-between items-center shadow-lg",children:[(0,m.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Admin Dashboard"}),(0,m.jsxs)("div",{className:"flex items-center gap-4",children:[(0,m.jsx)("span",{className:"font-semibold",children:(null===e||void 0===e?void 0:e.name)||"Admin"}),(0,m.jsx)("button",{onClick:a,className:"bg-red-500 px-5 py-2 rounded-xl shadow-md hover:bg-red-600 hover:scale-105 transition-transform",children:"Logout"})]})]}),(0,m.jsx)("main",{className:"flex-1 p-6",children:(0,m.jsxs)(i.oz.Group,{selectedIndex:d,onChange:c,children:[(0,m.jsx)(i.oz.List,{className:"flex gap-4 overflow-x-auto sticky top-0 z-20 bg-gray-50 dark:bg-gray-900 pb-2 border-b border-gray-200 dark:border-gray-700",children:u.map(e=>(0,m.jsx)(i.oz,{className:"outline-none flex-shrink-0",children:a=>{let{selected:t}=a;return(0,m.jsx)("div",{className:"cursor-pointer px-6 py-3 rounded-full font-semibold transition-all duration-300 ".concat(t?"bg-gradient-to-r from-indigo-500 via-sriBlue-500 to-teal-500 text-white shadow-lg transform scale-105":"text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-teal-400 hover:scale-105"),children:e.label})}},e.key))}),(0,m.jsx)(i.oz.Panels,{className:"mt-8 space-y-6",children:u.map(e=>(0,m.jsx)(i.oz.Panel,{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md hover:shadow-xl transition-transform duration-300",children:(0,m.jsx)(p,{endpoint:e.endpoint,headers:e.headers,readOnly:e.readOnly,single:e.single,FormComponent:e.FormComponent})},e.key))})]})})]})}}}]);
//# sourceMappingURL=29.5c5e2308.chunk.js.map